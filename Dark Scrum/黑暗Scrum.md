黑暗Scrum

2016年9月8日

我们来谈谈“黑暗Scrum”。 很多时候，至少在软件方面，Scrum看起来在压迫人们。 很多时候，Scrum不像应该的那样稳定可靠地，快速地交付。 其结果是，每个人都受苦其中。 大多数情况下，开发者比任何人都更痛苦。1

我最近思考了很多（黑暗Scrum）背后的故事：

*我最初的“敏捷”导师Kent Beck曾经说过，他为了給程序员提供安全的世界，发明了极限编程（Extreme Programming）。 事实证明，这个世界对于程序员来说，并不安全。 Scrum对于程序员来说，可能是非常不安全的。 在Scrum的共同创始人之一Ken Schwaber的解释里，有一层含义便是：“这让我难过”。*

Scrum，这个概念提得相当好，是一个很好的框架。 我对此非常虔诚。 与业务有紧密的联系是很好的，因为业务决定了需要做什么，什么需要推迟。 让团队刚好拥有创建产品所需要的所有技能是很好的。 每隔几周能建立一个经过测试的直观的产品是件好事，而且把它展示给干系人是很好的，回顾一下事情是如何发展的，以及如何改进是很好的。 我已经学习研究了Scrum许多年，用Scrum工作了很多年，并且深入思考了Scrum，所有的一切都非常好。不能说完美，但真的很好。

不幸的是，那是作为一个概念的Scrum，作为一个理想的Scrum，按照意图完成的Scrum。 就像每一个好主意一样，现实有时功亏一篑，有时远不尽如人意。 我把这样的结果称为“黑暗Scrum”2。

黑暗 Scrum：一些典型的Scrum的滥用

------

让我们看看黑暗 Scrum中的事情是如何发展的，只需几个步骤。 在本节中，我们观察一个经历黑暗 Scrum的团队。 黑暗 Scrum的那些领导人愿望是好的：他们只是做得不对。

自组织是发展缓慢的。

------

很显然，做好Scrum需要一些时间。 它有新的角色和活动。 更难的是，它要求我们承担新的价值（责任）。 我们应该让我们的开发人员自行组织他们的工作。 自称Scrum角色，召集Scrum会议是很容易的，但是真的把承担新的价值付诸行动是很不容易的。

Scrum通常是从受过培训的很少一部分人开始的，理解它的人更少，很多人觉得他们知道应该做什么。 如果他们做错了，应该不会感到意外，他们经常这样做。

通常，今天的权力持有人3认为，他们的工作是决定他们的团队（部下）应该做什么，告诉他们去做事，看到他们做事。 然后Scrum是这么教的：只是解释需要做什么，便退后，让人们自组织去做。

人们不能仅仅依靠Scrum的新操作模式。 忘记旧的方式是需要时间的。 学习新的习惯需要时间，学习去相信团队需要时间。 团队需要时间来学习如何被信任：这是本文要传达的基本信息。 Scrum的培训为获得培训的人们开启了这个学习的过程。

人们知道自己之前的工作，但不是他们新接触的Scrum工作，刚开始进行Scrum活动的时候，黑暗 Scrum便开始了。 它是这样的：

真棒，我们可以每天帮助团队！

------

每天，团队都应该聚在一起组织一天的工作。 这种做法，即“每日Scrum”，是强加给某个团队的。 房间里可能有一个人，Scrum Master，他知道应该怎么做。 程序员还并不知道，没有人告诉他们。 很多时候，即使是产品负责人也不知道，没有人告诉他。 几乎可以肯定，其他权力持有人也不知道，没有人告诉他。

但是权力持有人已经知道他的工作。 他的工作就是保持每个人都在做事情，确保他们做的是正确的事情，如果做的不对，指导他们转向正确的事情。 每天有一个强制性的会议，会上他可以做这些事情（安排和指导），多么方便！

结果是：团队不是围绕他们的共同使命，而是整理出对付这天的好方法，有其他的人給团队处理好的信息，然后告诉团队每个人该做什么。 没有事情会像昨天上午我们预料的那样发生，所以这种不恰当的活动，常常带来很多责难和紧张的气氛。

黑暗Scrum每天压制团队。 自组织是不能演化出现的。

我们也有便捷的频繁的做计划！

------

每个Sprint（冲刺），Scrum产品负责人都应该和团队见面，并描述需求是什么。 然后，团队找出他们可以做的来满足需求，并开始构建它们。理论是这样的。 在实践（现实）中，甚至可能不会有业务方面的产品负责人。 即使有，差别在于，他们没有接受过Scrum产品负责人4方面的培训。

好吧，权力持有人可能对Scrum来说，也是新手，但他们对如何处理这个需求（问题）非常了解。 所以他们每两个星期就会出现一次，并告诉这些程序员，他们需要构建什么。 哦，那些程序员会推回来的。 他们是懒惰的，顽抗的。 但权力持有人对程序员保持压力，因为这就是他管理人的方式。 所以他们告诉团队做什么，他们最好就做什么。

当然，权力持有人很少或根本不知道如何编程，通常程序员起码有一些线索。 他们不知道代码的状态是什么，通常程序员知道。 在Scrum中，程序员应该决定做多少工作，但是，在黑暗Scrum中，权力持有人更清楚的知道这些。 他们把任务堆起来。 他们认为推动团队是他们的工作。

结果从未改变。 团队真诚地尝试着做那些所要求的事情。 他们知道，即使是不可能的事情，说出来也是没有用的。 他们只会因为懒惰，愚蠢，制造麻烦而被人诟病。 所以他们尽力而为，但结果是不够好的。

在Sprint结束时，结果（完成的部分）并不是那些所要求的事情。 魔术（奇迹）没有发生过一次。 开发者们又一次失败。 幸运的是，我们有机会叫它们是：Sprint评审！

我们开始批评已经做了什么 - 什么还没有做。

------

每个冲刺阶段，干系人会根据团队的成就，提供项目如何继续进行下去的指导。 在组织不擅长Scrum的时候，很少能在实践中做到伟大的理论说的那样。

在实践中，黑暗Sprint评审从某人提醒大家团队“承诺”要做的开始。 （也就是说，在团队说“我们会尝试”之前，要求的那些事情。这是一个承诺，是吗？）然后我们看到，团队给我们带来的可怜的失败。

你猜怎么了。 组织要求的比可以做到的更多，最终他们也没有得到那些。 团队试了一下，试的时候，他们想尽办法完成所有这些不合理的要求。 他们压缩测试时间。 他们草草的设计。 他们甚至在疲倦的时候工作，以至于无法思考。

他们没有达到要求，他们做完的那些，也不尽人意。 团队再一次失败了。

幸运的是，黑暗Scrum拥有权力持有人，产品负责人和干系人。 他们确保程序员充分意识到他们做得非常糟糕。 （他们觉得）这一定会激励大家下次做的好一些。 为了帮助到这个方面，我们有Sprint回顾！

我们开始告诉他们如何改善...

------

在Sprint回顾中，团队回顾了之前这个Sprint以及过往的历史。 他们回顾了哪些进展顺利，哪些进展不顺利。 他们弄明白了下次要如何改进他们的流程。

在实践中，黑暗Scrum领导者帮助他们回顾。 我们提醒团队，他们没有达到要求，尽管我们的管理工作有多密切，但他们不尽如人意。 我们向这些开发者说清楚，他们的失败 - 这是失败 - 绝对是由于懒惰和不能胜任相结合导致的。

为了激励团队做得更好，我们指出不做改善的后果，这几乎肯定会包括很严重的后果（人头落地）。这总是会引起他们的关注。

有时候团队会提供建议。现在让我为你准备一下，在这样的情况下，他们可能会说的一些事情，以及如何回答他们：

**开发人员**：我们需要做更多的测试来减少缺陷。

**权力持有人**：不，这个功能你已经落后了。你需要写点更灵活更厉害的代码。不要制造缺陷，你将不得不删除它们。我们需要做功能，而不是测试！

**开发人员**：设计变得越来越复杂了。我们需要重构来改进。

**权力持有人**：不。你为什么首先写一个糟糕的设计出来呢？没有人要你写一个糟糕的设计。别这样做了，先把错误的地方解决掉把。周末就要来了，就这么做！

**开发人员**：需求不清楚，也没有得到澄清，我们做的东西，在最后一刻被否定了。

**权力持有人**：我们聘请你来，是需要你聪明一点，想办法解决问题的。你应该自己解决这些问题。不要磨磨唧唧，创建我们想要的东西吧！

你明白了。人为刀俎，我为鱼肉（把这些人的鼻子放在磨石上，把脚放在火上）。一直是这样子，才能完成软件开发的。 Scrum并没有改变这一点。

哇，真令人沮丧。

------

当然，Scrum实际上是在试图改变这一切。但是，除非组织的核心灵魂能真正改变，否则还会有太多太多的旧式管理发生......现在每隔几个星期就会发生一次......有的经常是每天都会发生！

我们开发者可以做些什么？

------

在黑暗Scrum中发生的事情是，Scrum的滥用。 他们真的和Scrum试图教我们的，是相反的。 没有真正的Scrum专家会推荐这些东西。 做这些事的人不是在“做正确的事”。 大家都对此表示赞同。 尽管如此，黑暗Scrum确实发生了，而且发生得太频繁了。 在我看来，在人们真正学到Scrum的原理和价值观之前，滥用行为几乎是不可避免的。

开发团队似乎没有什么可以做，只能接受压迫。 幸运的是，事实并非如此。 好消息是，我们可以做一些非常强大的事情。 坏消息是，这并不容易做到。 另一个好消息是，这些非常强大的事情都是关于编程的，我们通常很擅长的事情。

来自产品负责人和/或其他权力持有人的压力很大程度上，是因为他们无法清楚地看到我们正在做什么，我们实际上会完成的东西。 如果我们能够明确地取得进展5，我们可以改变我们的待遇。

- 如果产品有很多已知的缺陷，我们的领导会认为还有更多，他们会害怕。 他们的恐惧会使我们承受更大的压力，因为恐惧常常表现为愤怒，他们会对我们生气，通常会很生气。
- 如果我们在实现功能之前，工作在设计或基础设施上，功能似乎会慢慢呈现出来。但这使得我们的领导害怕我们会晚提交或者不能交付重要的功能。 我们会再次遭遇到领导的恐惧和愤怒。
- 如果因为我们的设计落后，开发速度就变慢了，产生的功能变少了。 更少的新功能，（带来）更多的恐惧，更多的愤怒，更多的压力。

当领导层看不到能工作的软件时，他们就会对未来感到恐惧 - 恰当的说。 他们总是以毫无帮助的方式表现出恐惧，而这种恐惧通常是痛苦的。 开发人员可以阻止这种情况的发生。 我知道的唯一方法是交付软件。 真实的，生动的，工作的软件。 带有看得见的功能的软件！

增量的力量

------

Scrum要求我们在每个Sprint结束时，交付一个经过测试的，集成的，可工作的，可发行的产品增量。 我们将简短的谈谈如何做到这一点。 现在，让我们想象一下，我们可以做到这一点：我们有能力每隔几周提供一次可工作的产品增量。

大部分的恐惧将会自行消失，因为领导层能看到真正的结果（完成的产品）。 然而，有些将会保持不变，因为很可能实际结果落后于他们的希望和梦想。 每个人都希望有一辆跑车，但是有时候你只能骑自行车。 也许你想要一只小马，但是你只能得到一只狗，甚至连一只猫都没有，至少一个人可以尊重的东西都没有。 （我跑题了。）

尽管如此，在我们手中有可靠的，测试过的，整合过的产品增量，包含了他们要我们做的重要功能的产品增量的时候，我们可以让对话变成这样：

**权力持有人**：你没有完成足够多的需求，你必须做更多的。

**开发人员**：我们正在尽我们所能，我们将继续努力改进。 同时，所有这些产品增量是可用的。 用我们的实际交付速度来预测我们将要多快的进行下去是明智的。 最好让我们先处理最重要的积压项（需求）。 将每一项整理得尽可能精简，可能是最好的。

这不会马上就神奇地工作。 但是，它会开始有所帮助，我们的产品增量越真实，就越会影响人们看到实际的样子，并以此为基础进行管理。 与我们经常想的相反，我们的领导不是愚蠢的。 他们正在尽可能地利用他们所拥有的信息。 如果我们可以给他们更好的信息，以可运行（可工作）软件的形式（交给他们），他们将开始使用这些信息。 使用这些信息，他们会减轻压力，减少滥用。

再次声明，这不是魔术，它不会在一夜之间发生。 不过，我已经看到它一次又一次的发生了。 不同于在地球上最不起作用的组织 - 只要你们几个读者实际上在那里工作 - 如果我们坚持下去的话，它会起作用的。

有一个问题。

------

总是有一个问题。这里的问题是，为了改变对话的气氛，为了减轻领导的压力和滥用，增量必须实实在在的工作。它必须经过测试，集成，封装，包含我们已经承诺要做的所有积压项（需求）。

这并不容易。更糟糕的是，我们没有在计算机科学专业学习如何做到这一点。我们没有在软件工程专业学习如何做到这一点。我们没有在IT技术学院学到如何去做，而且我们也没有在你喜欢的傻瓜语言中找到它。有一些专门制定的实践，可以让团队逐步构建软件，并保持良好的测试，精心的设计，专注于功能，并随时准备发布。

如果我们要把黑暗Scrum变成Scrum，那么我们需要学习这些实践。幸运的是，他们并不难学，但是像所有的编程一样，如果我们想要熟练使用它，确实需要练习和艰苦努力。在本系列的后面，我们将更详细地介绍它们，我们先来简要的看一下它们中的一些：

验收测试

------

在Sprint结束时，也是出现争议的时候，很常见的是，团队是否完成了产品负责人“想要的“（需求）。 这些争议是浪费的，他们容易于让产品负责人和开发人员疏离。 我们希望他们紧密合作，不要相互争斗。

一个非常强大的实践是产品负责人和开发人员就每个故事的具体的，可执行的验收测试达成一致。 将这些验收测试看作“例子”（“用例”）会有成效的。

**团队**：好的，我们希望系统显示拖欠30天的所有组织帐户，以及欠款总数。 这里有一个账目表，还有一个表格显示了已确定带金额的账户显示出来的样子。

**产品负责人**：不，这不太对。 我们不要30天，要30天以上的，

**团队**：好的，像这样吗？

**产品负责人**：对！ 就这样！

每一个小例子就是所讨论的故事或积压项（需求）的验收测试（用例）。按照惯例，如果测试运行失败，那么表示团队还没有完成这个故事。相反，如果测试运行正常，产品负责人和团队一致同意，我们已经完成了需求。

当然，产品负责人可能不喜欢她所看到的。但是现在对话已经改变了。她不能理所当然地说“那不是我想要的”。当我们达成一致时，这就是她想要的。她意识到了一些东西，现在想要一些不同的东西，这很好，这就是产品负责人的工作，用这种方式，找到可能的最好的产品。通过具体的验收测试来帮助我们理解所要做的内容，帮助我们了解什么时候完成，帮助我们了解何时需要纠正一些理解偏差，并要求变更。

作为一个重要的好处，当我们将这些例子（“用例”）自动化时，我们可以运行所有这些例子（“用例”），并确定地显示，产品仍然按我们达成一致的应该工作的样子在工作。

增量设计

------

在一个应用Scrum开展的项目中，我们应该在每个Sprint之后提供经过测试的，有效的，可能可交付的产品增量。显然，我们不可能在整个设计初期就搞清楚：我们只是粗略地知道产品会是什么样子。同样显而易见的是，我们最后会需要一个好的设计。因此，我们的软件设计必须逐步的，一点一点的增量的创建。

这是没关系的：当产品小而不完整时，不需要太多的设计。随着它的发展，它需要更大，更好，更坚固的设计。我们只需要随着产品的增量，增加（必要的）设计。

“只需要（just）”。软件开发中最危险的词。随着产品的增量去设计，是困难的。它需要设计技巧，测试技巧和重构技巧。我们将在下面以及本系列的其他文章探讨这些。随着时间的推移，我们还会为您提供一些关于这个问题的资源6.

但是基本的事实仍然是：如果我们要在每个冲刺阶段提供产品增量，我们必须找到一种方法来增量的做好设计。

重构

------

我们今天所知道的，做增量设计的最好方法就是“重构”。重构是改进现有的代码设计，又不破坏它的方法！

重构不是重写。当然，如果我们有一个设计不够好的程序，我们可以用一个更好的设计来编写一个新的程序。也许我应该在这里说“只需要写”，因为这个技巧很少有用。但原则上，我们可以。然而，这需要很长时间，在Scrum中我们没有太长的时间：（因为）在当前的Sprint结束前，我们需要更好的设计。

重构是通过非常小的步骤转换代码的过程，以使其更好。现代的IDE是这样帮助我们的：大多数IDE提供了一些自动化的重构。他们可以提取一些常用的代码，并把它变成一种方法或函数。他们可以将代码从一个类移动到另一个类。他们可以重命名，或更改一个方法的签名。

利用好重构，我们可以增量的改进我们的设计。然而，关键是“利用好”。我们必须加强这个技能。

增量式设计改进是必要的。重构是我们用的方法。

程序员测试

------

除了验收测试之外，我们还需要程序员测试。我们构建的每个功能都由许多编程步骤组成。在这些步骤中的任何一个，我们都可能犯错。我们使用程序员测试来避免这些错误。程序员测试里的一种非常好的形式是测试驱动开发TDD，就像这样：

1. 想想实现功能的下一小步。编写一个测试，该步骤完成后，应该运行（的测试）。运行它：确保它现在是不工作的。
2. 构建代码来完成这个步骤。运行测试：确保它现在工作。
3. 检查代码，看它是否看起来足够清晰。如果不是，重构它。再次运行测试，以确保一切仍然是工作的。
4. 重复，直到功能完成。

这不是我们做事情的唯一方式，但这是我们现在知道的最好的方式之一。无论如何，有很多小测试支持每个较大的验收测试，是非常有帮助的，因为小测试告诉我们哪个位置出错了，而验收测试只是尖叫“有错误了”！

这些测试也帮助我们进行更大范围的重构。我认为一个完美的TDD程序员，可以在TDD循环中完成所有的设计改进，不过（我的）经验是，有时候我没有马上注意到设计问题。当发生这种情况时，下一次遇到（修改）这段代码时，可能需要进行一些额外的重构工作。就像我们开发一个功能一样，我们的测试可以帮助我们确定在设计更改的时候，也不会出任何问题。

持续集成

------

Scrum需要一个可运行，经过彻底测试的可用增量，包含以前Sprints中所有的积压项（需求）：一个完整的，可运行的，经过测试的，可操作的程序。

显然，这要求所有团队的工作必须在Sprint结束之前，完成整合，测试和协同工作。 延迟整合揭示了一些问题，其中许多需要大量的调试。 我们等待的时间越长，情况就越糟糕。 相反，如果我们在一些小的工作变动之后，马上进行整合，就会变得容易得多。

运行系统测试套件的自动化构建过程，是Scrum团队开发过程的重要组成部分。 对于大多数团队来说，他们构建测试的频率越高，情况会越好。 “一直”构建似乎是最好的，这就是为什么这种做法被称为持续集成。

继续存活的黑暗Scrum

------

- 在许多Scrum引入的时候，有一个共同的，也许是不可避免的黑暗Scrum阶段;
- 黑暗Scrum情况遵循一个共同的模式;
- 开发团队可以让自己变得更好，并且可以将黑暗Scrum推向真正的Scrum，一个更好的存在方式。

如果您想提供意见，我的电子邮件是ronjeffries@acm.org。

------

1.  阿列克谢·克里维茨基（Alexey Krivitsky）已经把这篇文章翻译成俄文了，哦，天啊，黑暗的！<https://www.krivitsky.com/2017/06/06/%D0%BC%D1%80%D0%B0%D1%87%D0%BD%D1%8B%D0%B9-%D1%81%D0%BA%D1%80%D0%B0%D0%BC/>
2.  这在我看来是描述Scrum滥用形式的一个很好的术语。如果你同意，请开始采用。如果你倾向我这边的话，我将非常感激你放在我帽子里的一点小费，谢谢你支持我在“敏捷”和Scrum的历史上，给一个重要的话题命名。
3.  在这篇文章中，我将使用“权力持有人”这个词来表示所有对开发者有权力的那些人，特别是在黑暗Scrum中的那些。这些人都很好。然而，在黑暗Scrum中，无论是开发经理，团队负责人，产品负责人，还是Scrum Master，对权力的使用往往是受到误导的。所有这些人在真正的Scrum中都有合理合法的地方。但在黑暗Scrum中，他们还没有找到那些地方。
4.  截至2016年9月，共有388000名认证Scrum Master，82000认证Scrum产品负责人，表明近80％的团队没有经过培训的产品负责人。这些数据还表明，这些Scrum Master可能有多达一百万或两百万的程序员。世界上有一千到一千五百万专业程序员。在他们感到安全之前，我们还有一段路要走。
5.  没有双关意图。
6.  例如，请参阅软件开发中最危险的词汇 <http://alistapart.com/blog/post/the-most-dangerous-word-in-software-development>